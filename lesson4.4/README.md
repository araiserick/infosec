## Задание "Cистемы хранения данных (СУБД)"

[Задание](https://github.com/netology-code/ibdev-homeworks/tree/master/04_dbms)

### Какие методы аутентификации используются для подключения по TCP/IP с адресов 127.0.0.1/32 и ::1/128?

Метод аутентификации: trust - подключения с этих адресов принимаются без запроса пароля - аутентификация пропускается.

### Какие методы аутентификации используются для подключения по TCP/IP со всех остальных адресов, кроме указанных в предыдущем пункте по протоколу?

Метод аутентификации: md5
Это правило применяется ко всем TCP/IP-подключениям с любых адресов, кроме тех, что уже совпали с предыдущими правилами (127.0.0.1/32 и ::1/128).

### Верно ли утверждение: пароль роли app хранится в виде функция_хеширования password (пароль хранится в поле rolpassword)? Если неверно, то дайте описание алгоритма, который используется для хранения хеша.

Утверждение неверно. Пароль не хранится как простой хеш от самого пароля (md5(password)). В PostgreSQL при использовании метода аутентификации md5 применяется солёный хеш с именем пользователя

### Какое значение имеют поля rolsuper, rolcreaterole, rolcreatedb, rolbypassrls с указанием назначения данных столбцов? t будет означать «да», f — «нет». См. https://postgrespro.ru/docs/postgresql/12/catalog-pg-authid.  

Везде "t"


### Почему значения полей rolcanlogin и rolpassword для роли app не изменились, и вы по-прежнему можете подключиться с помощью psql без указания пароля, хотя в pg_hba.conf для host all all all указано reject?

Изменения в POSTGRES_HOST_AUTH_METHOD=reject не применяются к существующим данным PostgreSQL, если том с данными (volume) не был удалён при пересоздании контейнера. 

### Какие методы не рекомендуется использовать для удалённых подключений?

- trust — полностью запрещён. Этот метод не требует аутентификации, что делает систему уязвимой для неавторизованных подключений.
- md5 — запрещён. Использует устаревший алгоритм хэширования, который подвержен атакам (например, rainbow tables). В PostgreSQL 16+ этот метод считается небезопасным и не рекомендуется для использования.
- peer и ident — не должны использоваться для host (TCP/IP) подключений. Эти методы предназначены только для локальных соединений через Unix-сокет (local в pg_hba.conf). Их применение для удалённых подключений приведёт к ошибкам или непредсказуемому поведению.

### Какие методы рекомендуется использовать для удалённых подключений?
   
- scram-sha-256 — единственный рекомендуемый метод для общих случаев. Это современный алгоритм аутентификации с поддержкой шифрования паролей, соответствующий требованиям безопасности (NIST, FIPS). Он защищён от атак перебора и утечек данных.
- cert — если используется SSL-сертификаты для аутентификации клиентов (требует настройки TLS).
- gss или sspi — только в средах с интеграцией в Kerberos (Active Directory) или аналогичные системы единой аутентификации.
- ldap, radius, pam — только при строгом соблюдении политик безопасности (шифрование соединений, защита серверов LDAP/RADIUS/PAM).

### Которое отображается вместо ??? в результате выполнения запросов с недостаточными правами доступа: ERROR:  ???.

permission denied for table records